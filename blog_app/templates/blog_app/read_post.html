{% extends 'blog_app/base.html' %}
{% load crispy_forms_tags %}
{% crispy comment_form comment_form.helper %}

{% block title %} {{ blog.title}} {% endblock %}

{% block content %}

        <div class="col-md-12">
            <div class="card"> 
                <div class="card-header">
                    <div class="card-title">
                        <h4>{{ blog.title }}</h4>
                    </div>
                </div>
                <div class="card-body">                              
                        <pre>{{ blog.content }}</pre>
                        <br>
                        <a href="{% url 'author' blog.author.username %}"><h6 style="float: left;">By {{ blog.author }}</h6></a>
                        <h6 style="float: right;">{{ blog.created_at }}</h6>
                </div>
            </div>
            <br/>
            <div class="card p-4">
                {% if comments %}
                {% for comment in comments %}
                {{comment.comment}}
                {{comment.user}}
                {{comment.created_at}}
                <br/>
                {% endfor %}
                {% endif %}
                <form method="POST">
                    {% csrf_token %}
                    {{ comment_form.comment|as_crispy_field }}
                    <div class="d-grid gap-2">
                        <button class="btn btn-outline-primary" type="submit">Add Comment</button>
                    </div>
                </form>
            </div>
        </div>

   
<style>
pre { 
    white-space: pre-wrap; 
    word-break: break-word;
}
</style>

{% endblock %}